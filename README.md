# Code-Cowboys-Eagle-Hacks-2024

**CowboyBooks - Automated Invoicing Application**
**This application is a prototype, some functionality is limited and/or unavailable.**

**Overview**
Our website uses artificial intelligence to interperet and generate an invoice based on a given user input. Additionally it can store customer invoice information and invoice history through use of an implimented database. The AI prompts the user to input the customer information and invoice data, and then completes all the work in the background, opening a new tab with the invoice. From there, the user is given the options to print the invoice or export it, allowing them to email it to the targeted customer. The AI integration ensures ease of use so that there is minimal struggle when implimenting our website.

**How It Works**
When accesing our webpage, the user is faced with a landing page where they are given the option to either create an account, or log in as an existing customer. After logging in, the user is redirected to the dashboard page. On this page, there is an option to open up a chatbox to converse with an Artificial Intelligence. This artificial intelligence is an installment of the OpenAI GPT 3.5 API. The user is encouraged to input a customer name and the information for the invoice. OpenAI then intereperates the input, and parses it for relevent information. If there are any fields left blank for the invoice, or the user inputs incorrect information, the program throws an error and makes an API call that informs the user of what is still needed. Once the AI has all the information, it generates the HTML for the invoice in a fixed format we have given it. Additionally it generates the SQL statement for the program to insert the invoice into a table that stores past invoices. Then the HTML code generated by OpenAI is opened in a new tab. Allowing for the user to send the document to a printer or print it to a PDF in order to be emailed to the given customer.

Additionally, on the dashboard page, there is also a sidebar menu to allow the user to navigated between their dashboard, invoices, and customers. Under the invoices tab, the user is able to view a list of all the invoices they have generated. Here they can view all of the information tied to the invoice, including: customer ID, invoice ID, invoice total, the date the invoice was created, and whether the invoice is paid or pending. Additionally clicking on the edit icon will display a preview of the invoice as weel as the option to manually altar any incorrect information or they can chose to delete a given invoice by selecting the trash can icon. 

Last is the customer page. This page shows a list of the name and email for all of the user's customers. The user can add to this list through use of the "create customer" button. The user can also chose to sign out when they are finished to ensure security, or if they wish to switch accounts.



**Setup**
Our application is based on the next.JS framework. Setting up the application to run locally can be done in three steps:
1. Clone the repo or download the directory in it's entirety.
2. Ensure node.JS and NPM are installed on your machine, then run "npm i" to install dependencies.
3. The local development server can be started with the command "npm run dev"; for a deployment version, run "npm run build" then "npm run start".

_Note_ Two of the applications dependencies: OpenAI and next-auth require keys to be setup in the local ".env. file. You will need to create this file as it is not included in the repo for security reasons. See the following documentation for configuring the environment variables.
 - next-auth: https://next-auth.js.org/configuration/options
 - OpenAi: Your open AI key will depend on your personal account with OpenAI, information on OpenAI API keys can be found here:   https://platform.openai.com/account/api-keys
 - Vercel: Lastly, our deployment is hosted on Vercel and therefore uses a postgres database hosted through vercel, you can choose to configure your application this way, or use any other compatible database such as MongoDB.
Database Setup: The application requires a database connection with three tables: Customers, Invoices, Users. See the SQL statements for creation below:
- users:
  CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
  CREATE TABLE IF NOT EXISTS users (
        id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
        name VARCHAR(255) NOT NULL,
        email TEXT NOT NULL UNIQUE,
        password TEXT NOT NULL
      );
- invoices:
    CREATE TABLE IF NOT EXISTS invoices (
      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
      customer_id UUID NOT NULL,
      amount INT NOT NULL,
      status VARCHAR(255) NOT NULL,
      date DATE NOT NULL
  );
- customers:
    CREATE TABLE IF NOT EXISTS customers (
        id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
        name VARCHAR(255) NOT NULL,
        email VARCHAR(255) NOT NULL,
      );

**Operation**
Upon first setup, you will need to modify or completely remove the "./middleware.ts" file in the root directory. This file controls the pages which require authentication, and without modifying this file or first linking to a database, you will be unable to get past the dashboard page. Configure your database, and then you will be able to use the register and login functionality.

The application is designed to utilize an openAI chatbot to allow the user to create, modify, and delete invoices. Two pages allow for quick filtering and searching of customers and invoices. Invoices and customers can be created manually, or with the chatbot.

**Future Plans / Notes**
- Current AI functionality is limited, occasionally non-functional.
- The application will continue to be developed to expand on available functions, and fix those that do not work.
